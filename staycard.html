<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Hello World!</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="css/staycard.css">
      </head>

      <body>

            <div class="header">
                <h1 id="title">Staycard</h1>
                <button type="submit" onclick="history.back()" id="dashboardButton"><strong><<< Dashboard</strong></button>
            </div>

            <div class="guestInformation">
                <p id="guestInfo">
    
                </p>
                <button type="submit" onclick="deleteGuest()" id="deleteButton">Delete Guest</button>
            </div>

            
            <script>

                const guestId = new URLSearchParams(window.location.search).get("resNumber");


                function deleteGuest() {
                    let xhr = new XMLHttpRequest();
                    xhr.open("DELETE", `https://w9yhsqyg5c.execute-api.us-east-2.amazonaws.com/hotel/${guestId}`);
                    xhr.setRequestHeader("Content-Type", "application/json");
                    xhr.send();
                    
                    xhr.onload = function () {
                        if (xhr.status === 200 || xhr.status === 204) {
                            alert("Guest deleted!");
                            history.back();
                        } else {
                            alert("Failed to delete guest.");
                        }
                    };
                }

            </script>




      </body>
</html>